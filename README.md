# 1C
Отбор на кафедру 1С

Понимание правил игры:
1. За раз можно переложить лишь одну карту (а не как в пауке все упорядоченные).
2. Карту меньшего номинала можно переложить на карту ЛЮБОГО большего номинала.
3. Собарнный набор может лежать на других картах. При этом его тоже можно убрать.

Идеи:
1. Пасьянс не сходится, если есть "барьер". Под барьером подразумевается ряд одинаковых по номиналу карт (не обязательно на одном уровне) таких, что над ними лежат только карты меньшего номинала. В таком случае, чтобы не происходило на "поверхности", это не даст возможности переместить "барьерные" карты. Исключением будет такой расклад, при котором под одной из барьерных карт лежит уже упорядоченный набор и только он. То есть если барьерной картой является дама, то под ней первым на столе лежит туз, далее король, потом эта дама.
   Реализация:
   1. Ввод в виде двумерного массива А размера 8х9 (8 столбцов и 9 строк).
   2. Заводим массив В А размера 8х9 (8 столбцов для каждой кучки и 9 строк для каждого номинала карт), заполненный нулями. Проверяем, что в каждой кучке присутствуют карты всех мастей. При проходе        по       А на каждом шаге увеличиваем на 1 число в соответствующей ячейке. После заполнения исключаем номиналы, присутствующие не во всех кучках. Остальные номиналы "в лоб" проверяем на "барьерность".
2. Задача напоминает Ханойские башни, но с хаотично разбросанными в начале кольцами (большое кольцо -- большой номинал, маленькое -- маленький).
3. Хочется решать задачу с помощью графов и переходов между состояниями. Тогда сходимость пасьянса будет равносильна наличию пути из начального расположения карт в выигрышное, а минимальное количество ходов будет равно длине кратчайшего пути. Но состояний слишком много (экспоненциально от количества карт).
4. Если все же решать графом, то для учета возможности положить любую карту на пустое место (после сбрасывания сложенных в нужном порядке карт) можно добавить в начало каждой кучки фиктивную карту "Джокера", номинал которой будет больше номинала туза. Например, при кодировании следующим образом 6 --> 1, 7 --> 2, 8 --> 3, ... K --> 8, T --> 9 добавить карту с кодом 10. Эта карта всегда будет снизу и никуда не будет перемещена.
5. Чтобы поймать ситуацию, в которой собран упорядоченный набор от Т до 6, можно для каждой карты хранить дополнительное поле. В этом поле будет лежать ранг карты. То есть какой под ней максимальный, содержащий ее, упорядоченный набор. При каждом ходе это поле у перекладываемой карты должно обновляться. Если карту переложили на карту номинала на 1 меньше, то ее ранг становиться на единицу больше, чем у карты, на которую ее положили. Если номинал перкладываемой карты не "соседний" то он становится равным 1. Если в какой-то момент ранг 6ки становится равным 9, то верхние 9 карт этой кучки сбрасываются.
